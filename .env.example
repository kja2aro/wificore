# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
APP_NAME="Your Application Name"
APP_ENV=production
APP_KEY=
APP_DEBUG=false
APP_URL=https://yourdomain.com
FRONTEND_URL=https://yourdomain.com
TZ=Africa/Nairobi
SANCTUM_STATEFUL_DOMAINS=yourdomain.com,*.yourdomain.com
SESSION_DOMAIN=.yourdomain.com

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# SECURITY: Use strong, unique credentials in production
# Generate strong password: openssl rand -base64 32
DB_CONNECTION=pgsql
DB_HOST=wificore-postgres
DB_PORT=5432
DB_DATABASE=wms_770_ts
DB_USERNAME=
DB_PASSWORD=

# P2 Security: Database Query Timeouts (in milliseconds)
DB_TIMEOUT=5
DB_STATEMENT_TIMEOUT=30000
DB_LOCK_TIMEOUT=10000
DB_PERSISTENT=true

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
# SECURITY: Always set a strong Redis password in production
# Generate strong password: openssl rand -base64 32
REDIS_CLIENT=phpredis
REDIS_HOST=wificore-redis
REDIS_PASSWORD=
REDIS_PORT=6379

# ============================================================================
# MAIL CONFIGURATION
# ============================================================================
MAIL_MAILER=smtp
MAIL_SCHEME=null
MAIL_HOST=smtp.mailersend.net
MAIL_PORT=587
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_FROM_ADDRESS=noreply@yourdomain.com
MAIL_FROM_NAME="${APP_NAME}"

MAILERSEND_API_KEY=

# ============================================================================
# BROADCASTING & WEBSOCKETS (SOKETI/PUSHER)
# ============================================================================
BROADCAST_DRIVER=pusher
BROADCAST_CONNECTION=pusher
PUSHER_APP_ID=app-id
PUSHER_APP_KEY=app-key
PUSHER_APP_SECRET=app-secret
PUSHER_HOST=wificore-soketi
PUSHER_PORT=6071
PUSHER_SCHEME=http
PUSHER_APP_CLUSTER=mt1

# ============================================================================
# VPN CONFIGURATION
# ============================================================================
VPN_MODE=host
VPN_INTERFACE_NAME=wg0
VPN_SERVER_PUBLIC_IP=
VPN_SERVER_ENDPOINT=vpn.example.com:51830
VPN_LISTEN_PORT=51830
VPN_SERVER_PRIVATE_KEY=
VPN_SERVER_PUBLIC_KEY=
VPN_SUBNET_BASE=10.0.0.0/8

# ============================================================================
# QUEUE CONFIGURATION
# ============================================================================
QUEUE_CONNECTION=database
QUEUE_MAX_TRIES=3
QUEUE_TIMEOUT=120
QUEUE_RETRY_AFTER=90
QUEUE_BACKOFF=10,30,60

# ============================================================================
# CACHE CONFIGURATION
# ============================================================================
CACHE_STORE=redis
CACHE_PREFIX=app_cache_

# ============================================================================
# SESSION CONFIGURATION
# ============================================================================
SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

# ============================================================================
# FREERADIUS CONFIGURATION
# ============================================================================
# SECURITY: Use a strong, unique RADIUS secret
# Generate: openssl rand -base64 24
RADIUS_SERVER_HOST=wificore-freeradius
RADIUS_SERVER_PORT=1812
RADIUS_SECRET=

# ============================================================================
# MIKROTIK CONFIGURATION
# ============================================================================
# SECURITY: Configure router credentials securely
MIKROTIK_HOST=
MIKROTIK_USER=
MIKROTIK_PASS=

# ============================================================================
# M-PESA CONFIGURATION
# ============================================================================
# SECURITY: Use production credentials in production environment
# Obtain from Safaricom Daraja Portal: https://developer.safaricom.co.ke
MPESA_ENV=sandbox
MPESA_BASE_URL=https://sandbox.safaricom.co.ke
MPESA_CONSUMER_KEY=
MPESA_CONSUMER_SECRET=
MPESA_BUSINESS_SHORTCODE=
MPESA_PASSKEY=
MPESA_CALLBACK_URL=https://yourdomain.com/api/mpesa/callback
MPESA_INITIATOR_NAME=
MPESA_INITIATOR_PASSWORD=
MPESA_ACCOUNT_REFERENCE=YourCompany
MPESA_TRANSACTION_DESC=Payment

# P2 Security: M-Pesa Webhook Signature Verification
MPESA_WEBHOOK_SECRET=
MPESA_PUBLIC_KEY=
MPESA_SKIP_SIGNATURE_VERIFICATION=false

# ============================================================================
# WIREGUARD CONTROLLER CONFIGURATION
# ============================================================================
# SECURITY: Generate a strong API key for WireGuard controller
# Generate: openssl rand -base64 32
# Note: Using custom Docker bridge gateway IP (172.70.255.254) because WireGuard runs in host network mode
# This allows backend container (bridge network) to reach WireGuard controller (host network)
# The gateway IP matches the custom subnet defined in docker-compose: 172.70.0.0/16
WIREGUARD_API_KEY=
WIREGUARD_CONTROLLER_URL=http://172.70.255.254:8080

# ============================================================================
# DOCKER IMAGE TAGS
# ============================================================================
NGINX_TAG=latest
FRONTEND_TAG=latest
BACKEND_TAG=latest

# ============================================================================
# SOKETI CONFIGURATION
# ============================================================================
SOKETI_DEBUG=true
SOKETI_STATUS_ENDPOINT=http://wificore-soketi:6071/apps/app-id/status
SOKETI_METRICS_ENABLED=1

# ============================================================================
# DEVELOPMENT/TESTING FLAGS
# ============================================================================
BYPASS_EMAIL_VERIFICATION=false
